# 选择器优先级

整理自[优先级 - CSS（层叠样式表)|MDN](https://developer.mozilla.org/zh-CN/docs/Web/CSS/Specificity)

## 选择器优先级

选择器的优先级由高到低为

1. ID选择器(`#app`)
2. 类选择器(`.example`)，属性选择器(`[type="radio"]`)，伪类(`div:hover`)
3. 类型选择器(`h1`, `h2`, `p`)，伪元素(`p::first-line`)

通配选择符(`*`)，关系选择符 (`+`, `>`, `~`, '` `') 和否定伪类(`:not()`)对优先级没有影响，但是在 **:not() 内部声明**的选择器是会影响优先级的。

此外，关于样式的优先级

1. **内联样式**(`style="font-weight:bold"`)
2. 内部样式(`<style>`中定义的样式)
3. 外部样式
4. 浏览器用户自定义样式
5. 浏览器默认样式

## 样式继承

标签之间存在层级包含关系时，后代元素会继承祖先元素的样式。如果后代元素定义了与祖先元素相同的样式，则祖先元素的相同的样式属性会被覆盖。继承的样式的优先级比较低，至少比标签选择器的优先级低；

## `!important`

当在一个样式声明中使用一个`!important` 规则时，此声明将覆盖任何其他声明。虽然技术上`!important`与优先级无关，但它与它直接相关。

特点：

* `!important`破坏了样式表中的固有的级联规则，使得调试找bug变得更加困难了，因此不推荐首先使用`!important` 。
* 当两条相互冲突的带有 `!important` 规则的声明被应用到相同的元素上时，拥有更大优先级的声明将会被采用。

建议：

* **一定**要优化考虑使用样式规则的优先级来解决问题而不是 `!important`
* **只有**在需要覆盖全站或外部 css（例如引用的 ExtJs 或者 YUI ）的特定页面中使用 `!important`
* **永远不要**在全站范围的 css 上使用` !important`
* **永远不要**在你的插件中使用 `!important`